<!DOCTYPE html>
<html>
<head>
    <title>Plexceed Text Editor</title>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />

    <!--Original CSS-->
    <link rel="stylesheet" href="editor.css">

    <!--Original Libraries-->
    <script src="editor.js"></script>
</head>
<body>
<!-- Content goes after the textarea tag below -->
<form action="./" method="post">
    <div id="edit-box">
        <textarea id="editor" name="editor" >
onPageBegin(Page page, int pageCnt){
    if(pageCnt==3){
        textItem = new com.first_nexspire.svf.component.TextItem();
        textItem.setName(“Text9999");
        textItem.setX(500);
        textItem.setY(500);
        textItem.setStrImage("スクリプトで追加しました。");
        textItem.setPoint(10.8);
        page.addItem(textItem);
    }
    item = page.getItem("Field1");
    if(pageCnt==1)
        item.setStrImage("発　　　注　　　書");
    else if(pageCnt==2)
        item.setStrImage("納　　　品　　　書");
    else if(pageCnt==3)
        item.setStrImage("請　　　求　　　書");
    }
        </textarea>
    </div>
</form>

<script>
    // Initialize Editor editor
    var editor = Editor.fromTextArea(document.getElementById('editor'), {
        mode: "pophtmlmixed",
        tabMode: 'indent',
        lineNumbers: true,
        lineWrapping: true,

        // Highlights current line
        onCursorActivity: function() {
            editor.setLineClass(hlLine, null);
            hlLine = editor.setLineClass(editor.getCursor().line, "activeline");
        },

        // Handles the 'selected text' tab issue
        extraKeys: {
            "Tab": function(cm) {
                Editor.commands[cm.getCursor(true).line != cm.getCursor().line ? "indentMore" : "insertTab"](cm);
            }
        }
    });

    // Get selected text
    function getSelectedRange() {
        return { from: editor.getCursor(true), to: editor.getCursor(false) };
    }

    // Auto-format selected text
    function autoFormatSelection() {
        var range = getSelectedRange();
        editor.autoFormatRange(range.from, range.to);

    }


</script>

</body>
</html>